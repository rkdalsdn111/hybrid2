🔮 Mystic Flow - 프로젝트 개발 상세 명세서

1. 프로젝트 개요 (Overview)

프로젝트명: Mystic Flow (미스틱 플로우)

주제: 생성형 AI(DeepSeek/OpenAI) 기반 타로 리딩 PWA 웹앱

개발 목표: 10,000명 이상의 사용자가 시공간 제약 없이 개인화된 타로 상담을 받을 수 있는 서비스 구축

협업 도구: FLOW (태스크 관리), Figma (UI/UX 디자인), Gantt Chart (일정 관리)

2. 핵심 기능 (Key Features)

2.1 사용자 경험 (Front-End)

인트로 & 사용자 정보 입력:

앱 진입 시 신비로운 분위기의 인트로 애니메이션.

사용자 이름, 생년월일(선택), 고민 내용을 입력받는 폼 제공.

카드 셔플 및 선택 (Deck Interaction):

78장의 타로 카드가 뒷면으로 펼쳐지는 애니메이션.

사용자가 터치/클릭하여 3장(과거/현재/미래)을 선택.

선택 시 카드가 뒤집히며 아르카나 이미지가 공개됨.

AI 리딩 결과 (Reading Result):

선택된 카드와 사용자 고민을 결합하여 AI가 텍스트 생성.

결과 공유하기 기능 (이미지 캡처 또는 텍스트 복사).

2.2 기술적 특징 (Technical Specs)

PWA (Progressive Web App):

manifest.json 설정으로 홈 화면 아이콘 추가 지원.

Service Worker를 통한 오프라인 캐싱 및 빠른 로딩.

API Integration:

Prompt Engineering을 통해 '점술가' 페르소나 적용.

JSON 포맷으로 응답을 받아 화면에 구조화하여 출력.

3. 시스템 아키텍처 (System Architecture)

graph TD
    User[사용자] -->|접속 & 입력| Client[React PWA Client]
    Client -->|카드 선택 & 프롬프트 전송| API_Server[Backend / Next.js API Route]
    API_Server -->|LLM 요청| DeepSeek[DeepSeek / OpenAI API]
    DeepSeek -->|해석 결과 반환| API_Server
    API_Server -->|JSON 응답| Client
    Client -->|결과 렌더링| User


4. 데이터 구조 (Data Structure)

4.1 타로 카드 데이터 (Tarot JSON)

{
  "id": 0,
  "name_en": "The Fool",
  "name_ko": "바보",
  "image_url": "/assets/cards/major_00.webp",
  "keywords": ["순수", "시작", "모험"]
}


4.2 AI 프롬프트 요청 구조

{
  "role": "system",
  "content": "당신은 신비로운 타로 마스터입니다. 사용자의 고민과 뽑은 카드를 바탕으로 해석해주세요."
},
{
  "role": "user",
  "content": "고민: 진로 문제, 뽑은 카드: [바보, 마법사, 여황제]"
}


5. 협업 및 일정 관리 (Collaboration)

기획 단계 (1주차): 아이디어 구체화, 피그마 와이어프레임 작성.

디자인 단계 (2주차): UI 에셋 제작, 다크 모드 컬러 팔레트 확정.

개발 단계 (3주차): React 컴포넌트 구조화, API 연동, PWA 설정.

테스트 및 배포 (4주차): 모바일 호환성 테스트, 버그 수정.

6. 트러블 슈팅 로그 (Issue Log)

Issue: 모바일 사파리에서 주소창 때문에 하단 버튼이 가려지는 현상.

Solve: window.innerHeight를 vh 단위로 재계산하는 커스텀 훅 useVh 구현하여 해결.

Issue: AI 응답 시간이 5초 이상 소요되어 사용자 이탈 우려.

Solve: 응답을 기다리는 동안 '카드 해석 중...'이라는 로딩 애니메이션과 명언을 띄워 지루함 방지.
